<!doctype html>
<html lang="en-US">
<head>
    <link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
	<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=javascript&amp;"></script>
    <script src="https://cdn.rawgit.com/leafo/sticky-kit/v1.1.2/jquery.sticky-kit.min.js"></script>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <meta charset="utf-8">
	
    <title>Android Programming Survey</title>

	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Varela+Round">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>

<style>
@charset "utf-8";
/* CSS Document */

/* ---------- FONTAWESOME ---------- */

@import url(http://weloveiconfonts.com/api/?family=fontawesome);

/* ---------- ERIC MEYER'S RESET CSS ---------- */
/* ---------- http://meyerweb.com/eric/tools/css/reset/ ---------- */

@import url(http://meyerweb.com/eric/tools/css/reset/reset.css);

/* ---------- FONTAWESOME ---------- */

[class*="fontawesome-"]:before {
  font-family: 'FontAwesome', sans-serif;
}

/* ---------- GENERAL ---------- */


body {
	background-color: #C0C0C0;
	color: #000;
	font-family: "Varela Round", Arial, Helvetica, sans-serif;
	font-size: 16px;
	line-height: 1.2em;
}

input {
	border: none;
	font-family: inherit;
	font-size: inherit;
	font-weight: inherit;
	line-height: inherit;
	-webkit-appearance: none;
}

button {
    border: none;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    -webkit-appearance: none;
}

/* ---------- FORM ---------- */

#form {
	margin: 1.5px auto;
	width: 1100px;
}

#form h2 {
    background-color: #7ABF58;
	-webkit-border-radius: 20px 20px 0 0;
	-moz-border-radius: 20px 20px 0 0;
	border-radius: 20px 20px 0 0;
	color: #fff;
	font-size: 28px;
	padding: 15px 26px;
}

#form h2 span[class*="fontawesome-"] {
	margin-right: 14px;
}

#form fieldset {
    background-color: #F7F9F9;
	-webkit-border-radius: 0 0 20px 20px;
	-moz-border-radius: 0 0 20px 20px;
	border-radius: 0 0 20px 20px;
	padding: 20px 26px;
}

#form fieldset p {
	color: #777;
	margin-bottom: 14px;
}

#form fieldset p:last-child {
	margin-bottom: 0;
}

#form fieldset input {
	-webkit-border-radius: 3px;
	-moz-border-radius: 3px;
	border-radius: 3px;
}

#form fieldset input[type="submit"] {
	background-color: #7ABF58;
	color: #fff;
	display: inline;
	margin: 0 auto;
    width:auto;
}

#form fieldset button {
    background-color: #7ABF58;
    color: #fff;
    display: inline;
    margin: 0 auto;
    width:auto;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    cursor: pointer;
}

.check-btn {
    background-color: #7ABF58;
    color: #fff;
    display: inline;
    margin: 0 auto;
    width:auto;
    cursor: pointer;
}

.ic {
	cursor:pointer;
}

.wrapper {
    float: left; 
    width: 1000px;
    height: auto;
    padding: auto;
    border-radius: 8px;
    position: relative;
}

.dragtarget {
    float: left; 
    width: 350px;
    height: auto;
    padding: 5px;
    background-color: #9EDAD2;
    border-radius: 5px;
    border: none;
    /*position: absolute;*/
    top: auto;
}

.api {
    position: absolute;
    float: left; 
    width: 330px; 
    height: auto;
    margin: 0 auto;
    border-radius: 5px;
    background: #CEDBD8;
    padding: 12px;
}

.form-code {
    float: right; 
    width: 600px; 
    height: auto;
    padding: 10px;
    border-radius: 8px;
    border:2px solid #7ABF58;
}

.droptarget { 
    float: right;
    width: 600px; 
    height: 150px;
    border: 1px solid #aaaaaa;
    font-size: 1.2em;
    border-radius: 4px;
    font-family:'Courier New', monospace;
    font-size:14px;
}

.row {
    width: 600px;
    height: 25px;
    display: block;
    margin: 0 auto;
}

.row1 {
    width: 600px;
    height: 150px;
    display: block;
    margin: 0 auto;
}

.rowp {
	width: 585px;
    height: 135px;
    display: block;
    margin: 0 auto;
}

.styled-div {
    float:left;
    background: #eee;
    background: -moz-linear-gradient(top,#eee 0%,#eee 100%);
    background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#eee),color-stop(100%,#eee));
    background: -webkit-linear-gradient(top,#eee 0%,#eee 100%);
    background: -o-linear-gradient(top,#eee 0%,#eee 100%);
    background: -ms-linear-gradient(top,#eee 0%,#eee 100%);
    background: linear-gradient(top,#eee 0%,#eee 100%);
    filter: progid: DXImageTransform.Microsoft.gradient( startColorstr='#eee',endColorstr='#eee',GradientType=0);
    padding:5px 5px;
    color: #777;
    font-family:'Courier New', sans-serif;
    font-size:12px;
    border-radius:4px;
    -moz-border-radius:4px;
    -webkit-border-radius:4px;
    border:1px solid #1A87B9;
    cursor: default;
    width: auto;
    height:auto;
}

.styled-button-3 {
    float:left;
    color: #777;
    font-family:'Courier New', monospace;
    font-size:12px;
    width:auto; 
}

/*! Color themes for Google Code Prettify | MIT License | github.com/jmblog/color-themes-for-google-code-prettify */
.prettyprint{background:#fff;font-family:Menlo,Bitstream Vera Sans Mono,DejaVu Sans Mono,Monaco,Consolas,monospace;border:0!important}.pln{color:#4d4d4c}ol.linenums{margin-top:0;margin-bottom:0;color:#8e908c}li.L0,li.L1,li.L2,li.L3,li.L4,li.L5,li.L6,li.L7,li.L8,li.L9{padding-left:1em;background-color:#fff;list-style-type:decimal}@media screen{.str{color:#718c00}.kwd{color:#8959a8}.com{color:#8e908c}.typ{color:#4271ae}.lit{color:#f5871f}.pun{color:#4d4d4c}.opn{color:#4d4d4c}.clo{color:#4d4d4c}.tag{color:#c82829}.atn{color:#f5871f}.atv{color:#3e999f}.dec{color:#f5871f}.var{color:#c82829}.fun{color:#4271ae}}

a:link, a:visited { 
    color: #1966DB;
    cursor: pointer;
    text-decoration:none;
}

.name {
    color: #1966DB;
	font: Verdana, monospace;
	font-size: 16px;
}

.tooltip {
    position: relative;
    display: inline-block;
}

.tooltip .tooltiptext {
    visibility: hidden;
    width: 350px;
    height: auto;
    background-color: #DAF7A6;
    text-align: left;
    border-radius: 6px;
    padding: 5px 0;
    font-family:'Arial', sans-serif;
    font-size:12px;
    border: 1px solid #aaaaaa;
    border-radius: 4px;
    /* Position the tooltip */
    position: absolute;
    z-index: 10;
}

.tooltip:hover .tooltiptext {
    visibility: visible;
}

</style>

<link rel="stylesheet" href="{{ url_for('static', filename='github.css') }}">
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=javascript&amp;"></script>

</head>

<body>
    <script type="text/javascript" src="{{ url_for('static', filename='go.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='highlight.js') }}"></script>
    <script>hljs.initHighlightingOnLoad();</script>

	<div id="form">
        <p class="name" align="right">
            Welcome {{ session['email'] }}! 
            <a href="{{ url_for('index') }}"><i class="fa fa-home fa-lg" aria-hidden="true"></i></a>
            <a href="{{ url_for('logout') }}"><i class="fa fa-sign-out fa-lg" aria-hidden="true"></i></a>
        </p>

		<h2><span class="fontawesome"></span>Android Programming Survey</h2>

        <fieldset>
            <p>You are going to work on a Java class of a real Android application, NotePad.
            For this reason, please do not read the source code of the NotePad application.
            We will ask you to call seven experimental methods from the Android platform's API.
            Mind the handling of your code,
            to improve the quality, readability, and robustness of the application
            (For more information about software quality,
            see <a href="https://en.wikipedia.org/wiki/Software_quality">here</a>.)</p>

            <p>In the following, on the left there is a box of methods,
            keywords, and symbols that you can drag and drop on the answer boxes on the right. 
            Scroll down to find the TODO comments and
            accordingly fill the answer boxes to complete the program. 
            After you fill and format all the answer boxes, 
            just log-out. 
            Please read carefully the 
            <a href="{{ url_for('help') }}" onclick="return results('/survey/help.html')">instructions</a>
            before proceeding and our own Javadoc of the
            <a href="{{ url_for('api') }}">API reference documentation</a>.</p>

            <div class="wrapper">

            <div class= "dragtarget" id="dragtarget">
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="{">{</div>        
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="}">}</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id=";">;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="(">(</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id=")">)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="!">!</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="?">?</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="=">=</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id=".">.</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id=":">:</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="0">&nbsp;0&nbsp;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="space">&nbsp;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="aExc">&nbsp;aExc</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="canvas">canvas</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="catch">catch</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="changeTextColor">changeTextColor(colors)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="drawTxt(tmp,0,9,20,30,paint)">drawTxt(tmp,0,9,20,30,paint)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="editText(chAr, 0, 1)">editText(chAr,0,1)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="(EditText)findViewId(R.id.note)">(EditText)findViewId(R.id.note)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="Exception">Exception</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="getContentResolver()">getContentResolver()</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="if">if&nbsp;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="InsufficientMemoryForResourceException" name="InsufficientMemoryForResourceException">InsufficientMemoryForResourceException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="InvalidArrayIndexException" name="InvalidArrayIndexException">InvalidArrayIndexException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="InvalidUriException" name="InvalidUriIndexException">InvalidUriException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="insertData(intent.getData(),null)">insertData(intent.getData(),null)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="MissingResourceException">MissingResourceException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="mText">mText</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="mUri">mUri</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="new">new&nbsp;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="null">null</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="NullResourceException">NullResourceException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="orig">orig</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="printStackTrace()" name="printStackTrace()">printStackTrace()</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="query">queryData(uri,PROJECTION,null,null,null)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="RuntimeException">RuntimeException</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="setLayout(R.layout.editor)">setLayout(R.layout.note_editor)</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="throw">throw&nbsp;</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="try">try</div>
            <div class="styled-div" ondragstart="drag(event);" draggable="true" id="UnauthorizedAccessException">UnauthorizedAccessException</div>
            </div>

            <div class="form-code">
    		  <form method="post" action="{{ url_for('survey') }}">
                <pre><code class="java">
/*
 * Copyright (C) 2007 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * 
 * [...]
 * 
 */

import android.app.*;
import android.content.*;
import android.database.*;
import android.graphics.*;
import android.net.*;
import android.os.Bundle;
import android.security.*;
import android.util.*;
import android.view.*;
import android.widget.*;

/**
 * This Activity handles "editing" a note, where editing is responding to
 * {@link Intent#ACTION_VIEW} (request to view data), edit a note
 * {@link Intent#ACTION_EDIT}, create a note {@link Intent#ACTION_INSERT}, or
 * create a new note from the current contents of the clipboard
 * {@link Intent#ACTION_PASTE}.
 * NOTE: Notice that the provider operations in this Activity are taking place
 */
public class NoteEditor extends Activity {
    // For logging and debugging purposes
    private static final String TAG = "NoteEditor";

    /*
     * Creates a projection that returns the note ID and the note contents.
     */
    private static final String[] PROJECTION = new String[] { NotePad.Notes._ID, NotePad.Notes.COLUMN_NAME_TITLE,
            NotePad.Notes.COLUMN_NAME_NOTE };

    // A label for the saved state of the activity
    private static final String ORIGINAL_CONTENT = "origContent";

    // This Activity can be started by more than one action. Each action is
    // represented
    // as a "state" constant
    private static final int STATE_EDIT = 0;
    private static final int STATE_INSERT = 1;

    // Global mutable variables
    private int mState;
    private Uri mUri;
    private Cursor mCursor;
    private EditText mText;
    private String mOriginalContent;

    /**
     * Defines a custom EditText View that draws lines between each line of text
     * that is displayed.
     */
    public static class LinedEditText extends EditText {
        private Rect mRect;
        private Paint mPaint;

        // This constructor is used by LayoutInflater
        public LinedEditText(Context context, AttributeSet attrs) {
            super(context, attrs);

            // Creates a Rect and a Paint object, and sets the style and color
            // of the Paint object.
            mRect = new Rect();
            mPaint = new Paint();
            mPaint.setStyle(Paint.Style.STROKE);
            mPaint.setColor(0x800000FF);
        }

        /**
         * This is called to draw the LinedEditText object
         * 
         * @param canvas
         *            The canvas on which the background is drawn.
         */
        @Override
        protected void onDraw(Canvas canvas) {
            // Gets the number of lines of text in the View.
            int count = getLineCount();

            // Gets the global Rect and Paint objects
            Rect r = mRect;
            Paint paint = mPaint;
            // Define the text size
            paint.setTextSize(100);

            // String to add before each new note
            String tmp = "Hello Android!";

            /* 
             * TODO: Draw a welcome text before a note.
             * Tip: Call the drawTxt method using the already created canvas object.
             * The object canvas is an instance of the Canvas class. 
             */
            </pre></code>
            	<div>Answer Box 1:</div>
                <div id="answer_1" class="droptarget">
                    <div class="row1" id="r_answer_1"><pre class="rowp">{{answ.answer_1}}</pre></div>
                    <textarea type="text" style="display:none" name="t_answer_1" id="ti_answer_1" placeholder="tp_answer_1">{{answ.answer_1}}</textarea>
                </div>
            	<br>
                <input type="button" class="check-btn" value="Clear" name="c_answer_1" onclick="clearDiv('answer_1');"/>
            <br>
            <br>
            <pre><code>
            /*
             * Draws one line in the rectangle for every line of text in the
             * EditText
             */
            for (int i = 0; i < count; i++) {

                // Gets the baseline coordinates for the current line of text
                int baseline = getLineBounds(i, r);

                /*
                 * Draws a line in the background from the left of the rectangle
                 * to the right, at a vertical position one dip below the
                 * baseline, using the "paint" object for details.
                 */
                canvas.drawLine(r.left, baseline + 1, r.right, baseline + 1, paint);
            }

            // Finishes up by calling the parent method
            super.onDraw(canvas);
        }
    }

    /**
     * This method is called by Android when the Activity is first started. From
     * the incoming Intent, it determines what kind of editing is desired, and
     * then does it.
     */
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        /*
         * Creates an Intent to use when the Activity object's result is sent
         * back to the caller.
         */
        final Intent intent = getIntent();

        /*
         * Sets up for the edit, based on the action specified for the incoming
         * Intent.
         */

        // Gets the action that triggered the intent filter for this Activity
        final String action = intent.getAction();

        // For an edit action:
        if (Intent.ACTION_EDIT.equals(action)) {

            // Sets the Activity state to EDIT, and gets the URI for the data to
            // be edited.
            mState = STATE_EDIT;
            mUri = intent.getData();

            // For an insert or paste action:
        } else if (Intent.ACTION_INSERT.equals(action) || Intent.ACTION_PASTE.equals(action)) {

            // Sets the Activity state to INSERT
            mState = STATE_INSERT;

            /* 
             * TODO: Get the general note URI, and insert an empty record in the provider.
             * Tip: Call the insertData method using the getContentResolver() method
             * to get a ContentResolver instance (i.e. getContentResolver().insertData).
             * Then, assign the record to the already created object mUri, which is an instance of the Uri class.
             */
            </pre></code>
            <div>Answer Box 2:</div>
                <div id="answer_2" class="droptarget">
                    <div class="row1" id="r_answer_2"><pre class="rowp">{{answ.answer_2}}</pre></div>
                    <textarea type="text" style="display:none" name="t_answer_2" id="ti_answer_2" placeholder="tp_answer_2">{{answ.answer_2}}</textarea>
                </div>
                <br>
                <input type="button" class="check-btn" value="Clear" name="c_answer_2" onclick="clearDiv('answer_2');"/>
                <br>
                <br>
            <pre><code>
            /*
             * If the attempt to insert the new note fails, shuts down this
             * Activity. The originating Activity receives back RESULT_CANCELED
             * if it requested a result. Logs that the insert failed.
             */
            if (mUri == null) {

                // Writes the log identifier, a message, and the URI that
                // failed.
                Log.e(TAG, "Failed to insert new note into " + getIntent().getData());

                // Closes the activity.
                finish();
                return;
            }

            // Since the new entry was created, this sets the result to be
            // returned
            // set the result to be returned.
            setResult(RESULT_OK, (new Intent()).setAction(mUri.toString()));

            // If the action was other than EDIT or INSERT:
        } else {

            // Logs an error that the action was not understood, finishes the
            // Activity, and
            // returns RESULT_CANCELED to an originating Activity.
            Log.e(TAG, "Unknown action, exiting");
            finish();
            return;
        }

        /*
         * Using the URI passed in with the triggering Intent, gets the note or
         * notes in the provider. Note: This is being done on the UI thread.
         * It will block the thread until the query completes.
         * [...]
         */
         mCursor = managedQuery(
             mUri, // The URI that gets multiple notes from the provider.
             PROJECTION, // A projection that returns the note ID and note content for each note.
             null, // No "where" clause selection criteria.
             null, // No "where" clause selection values.
             null // Use the default sort order (modification date, descending)
        );

        // For a paste, initializes the data from clipboard.
        // (Must be done after mCursor is initialized.)
        if (Intent.ACTION_PASTE.equals(action)) {
            // Does the paste
            performPaste();
            // Switches the state to EDIT so the title can be modified.
            mState = STATE_EDIT;
        }

        /* 
         * TODO: Set the layout for the NotePad editor.
         * Tip: The layout is a file in the application's resources (i.e. res/layout/note_editor.xml).
         * Call the setLayout method that has a layout resource as a parameter.
         */
        </pre></code>
        <div>Answer Box 3:</div>
        <div id="answer_3" class="droptarget">
            <div class="row1" id="r_answer_3"><pre class="rowp">{{answ.answer_3}}</pre></div>
            <textarea type="text" style="display:none" name="t_answer_3" id="ti_answer_3" placeholder="tp_answer_3">{{answ.answer_3}}</textarea>
        </div>
        <br>
        <input type="button" class="check-btn" value="Clear" name="c_answer_3" onclick="clearDiv('answer_3');"/>
        <br>
        <br>
        <pre><code>
        /*
         * TODO: Set a handler to the text editor (EditText object).
         * Tip: Assign to mText the output of the findViewId method.
         */
        </pre></code>
        <div>Answer Box 4:</div>
        <div id="answer_4" class="droptarget">
            <div class="row1" id="r_answer_4"><pre class="rowp">{{answ.answer_4}}</pre></div>
            <textarea type="text" style="display:none" name="t_answer_4" id="ti_answer_4" placeholder="tp_answer_4">{{answ.answer_4}}</textarea>
        </div>
        <br>
        <input type="button" class="check-btn" value="Clear" name="c_answer_4" onclick="clearDiv('answer_4');"/>
        <br>
        <br>
        <pre><code>
        // Change EditText text color
		ColorStateList colors = null;
		try {
		    XmlResourceParser parser = getResources().getXml(R.color.text_colors);
		    colors = ColorStateList.createFromXml(getResources(), parser);
		    // handle exceptions
		} catch (IOException e1) {
		    e1.printStackTrace();
		} catch (XmlPullParserException e2) {
			e2.printStackTrace();
		}
		
		/* 
		 * TODO: Change the editor's text color.
		 * Tip: Call the changeTextColor method using an EditText instance, mText.
		 */
		</pre></code>
        <div>Answer Box 5:</div>
            <div id="answer_5" class="droptarget">
                <div class="row1" id="r_answer_5"><pre class="rowp">{{answ.answer_5}}</pre></div>
                <textarea type="text" style="display:none" name="t_answer_5" id="ti_answer_5" placeholder="tp_answer_5">{{answ.answer_5}}</textarea>
            </div>
        <br>
        <input type="button" class="check-btn" value="Clear" name="c_answer_5" onclick="clearDiv('answer_5');"/>
        <br>
        <br>
        <pre><code>
        /*
         * If this Activity had stopped previously, its state was written the
         * ORIGINAL_CONTENT location in the saved Instance state. This gets the
         * state.
         */
        if (savedInstanceState != null) {
            mOriginalContent = savedInstanceState.getString(ORIGINAL_CONTENT);
        }
    }

    /**
     * This method is called when the Activity is about to come to the
     * foreground. This happens when the Activity comes to the top of the task
     * stack, OR when it is first starting.
     *
     * Moves to the first note in the list, sets an appropriate title for the
     * action chosen by the user, puts the note contents into the TextView, and
     * saves the original text as a backup.
     */
    @Override
    protected void onResume() {...}

    /**
     * This method is called when an Activity loses focus during its normal
     * operation, and is then later on killed. The Activity has a chance to save
     * its state so that the system can restore it.
     *
     * Notice that this method isn't a normal part of the Activity lifecycle. It
     * won't be called if the user simply navigates away from the Activity.
     */
    @Override
    protected void onSaveInstanceState(Bundle outState) {...}

    /**
     * This method is called when the Activity loses focus.
     *
     * For Activity objects that edit information, onPause() may be the one
     * place where changes are saved. The Android application model is
     * predicated on the idea that "save" and "exit" aren't required actions.
     * When users navigate away from an Activity, they shouldn't have to go back
     * to it to complete their work. The act of going away should save
     * everything and leave the Activity in a state where Android can destroy it
     * if necessary.
     *
     * If the user hasn't done anything, then this deletes or clears out the
     * note, otherwise it writes the user's work to the provider.
     */
    @Override
    protected void onPause() {...}

    /**
     * This method is called when the user clicks the device's Menu button the
     * first time for this Activity. Android passes in a Menu object that is
     * populated with items.
     *
     * Builds the menus for editing and inserting, and adds in alternative
     * actions that registered themselves to handle the MIME types for this
     * application.
     *
     * @param menu
     *            A Menu object to which items should be added.
     * @return True to display the menu.
     */
    @Override
    public boolean onCreateOptionsMenu(Menu menu) {...}

    @Override
    public boolean onPrepareOptionsMenu(Menu menu) {...}

    /**
     * This method is called when a menu item is selected. Android passes in the
     * selected item. The switch statement in this method calls the appropriate
     * method to perform the action the user chose.
     *
     * @param item
     *            The selected MenuItem
     * @return True to indicate that the item was processed, and no further work
     *         is necessary. False to proceed to further processing as indicated
     *         in the MenuItem object.
     */
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {...}

    /**
     * A helper method that replaces the note's data with the contents of the
     * clipboard.
     */
    private final void performPaste() {

        // Gets a handle to the Clipboard Manager
        ClipboardManager clipboard = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);

        // Gets the clipboard data from the clipboard
        ClipData clip = clipboard.getPrimaryClip();
        if (clip != null) {

            String text = null;
            String title = null;

            // Gets the first item from the clipboard data
            ClipData.Item item = clip.getItemAt(0);

            // Tries to get the item's contents as a URI pointing to a note
            Uri uri = item.getUri();

            Cursor orig = null;

            // Tests to see that the item actually is an URI, and that the URI
            // is a content URI pointing to a provider whose MIME type is the
            // same as the MIME type supported by the Note pad provider.
            if (uri != null && NotePad.Notes.CONTENT_ITEM_TYPE.equals(getContentResolver().getType(uri))) {
                // The clipboard holds a reference to data with a note MIME type. This copies it.
                    
                /*
                 * TODO: Get data from a note's URI.
                 * Tip: Call the queryData method by using the getContentResolver() method
                 * that returns a ContentResolver instance (i.e. getContentResolver().queryData).
                 * Assign the result of the called queryData method to the orig Cursor instance.
                 */
                </pre></code>
                <div>Answer Box 6:</div>
                <div id="answer_6" class="droptarget">
                    <div class="row1" id="r_answer_6"><pre class="rowp">{{answ.answer_6}}</pre></div>
                    <textarea type="text" style="display:none" name="t_answer_6" id="ti_answer_6" placeholder="tp_answer_6">{{answ.answer_6}}</textarea>
                </div>
                <br>
                <input type="button" class="check-btn" value="Clear" name="c_answer_6" onclick="clearDiv('answer_6');"/>
                <br>
                <br>
                <pre><code>
                // If the Cursor is not null, and it contains at least one
                // record (moveToFirst() returns true), 
                // then this gets the note data from it.
                if (orig != null) {
                    if (orig.moveToFirst()) {
                        int colNoteIndex = mCursor.getColumnIndex(NotePad.Notes.COLUMN_NAME_NOTE);
                        int colTitleIndex = mCursor.getColumnIndex(NotePad.Notes.COLUMN_NAME_TITLE);
                        text = orig.getString(colNoteIndex);
                        title = orig.getString(colTitleIndex);
                    }

                    // Closes the cursor.
                    orig.close();
                }
            }

            // If the contents of the clipboard wasn't a reference to a note,
            // then this converts whatever it is to text.
            if (text == null) {
                text = item.coerceToText(this).toString();
            }

            // Updates the current note with the retrieved title and text.
            updateNote(text, title);
        }
    }

    /**
     * Replaces the current note contents with the text and title provided as
     * arguments.
     * 
     * @param text
     *            The new note contents to use.
     * @param title
     *            The new note title to use
     */
    private final void updateNote(String text, String title) {...}

    /**
     * This helper method cancels the work done on a note. It deletes the note
     * if it was newly created, or reverts to the original text of the note i
     */
    private final void cancelNote() {...}

    /**
     * Take care of deleting a note. Simply deletes the entry.
     */
    private final void deleteNote() {
        if (mCursor != null) {
            mCursor.close();
            mCursor = null;

        	getContentResolver().delete(mUri, null, null);

            char[] chAr = { ' ' };

            /*
             * TODO: Clear the text of a note.
             * Tip: Call the method editText using an EditText instance, mText.
             */
            </pre></code>
            <div>Answer Box 7:</div>
            <div id="answer_7" class="droptarget">
                <div class="row1" id="r_answer_7"><pre class="rowp">{{answ.answer_7}}</pre></div>
                <textarea type="text" style="display:none" name="t_answer_7" id="ti_answer_7" placeholder="tp_answer_7">{{answ.answer_7}}</textarea>
            </div>
            <br>
            <input type="button" class="check-btn" value="Clear" name="c_answer_7" onclick="clearDiv('answer_7');"/>
            <br>
            <br>
            <pre><code>
        }
    }
}
                </pre></code>
                <div position:relative; top:50%;left:50%;>
                <input type="submit" value="Format" onclick="save();"/>
                <button class="tooltip" onclick="return results('/survey/results.html')">&nbsp;&nbsp;Check&nbsp;&nbsp;
                    <span class="tooltiptext">
                        <p>Please remember to press Format first.</p>
                    </span>
                </button>
                <span class="add-on" onclick="return results('/survey/help.html')">
                    <i class="fa fa-info-circle fa-lg ic" aria-hidden="true"></i>
                </span>

                </div>

                <br>

                {%- for category, message in get_flashed_messages(with_categories = true) %}
           		<div class = "alert alert-danger">
              		{{ message }}
           		</div>
        		{%- endfor %}
     
    		  </form>

            </div>

            </div>

        </fieldset>
    <footer class="footer">
        <p>&copy; SENSE/AUEB 2016</p>
    </footer>
	</div> <!-- end of survey -->

    <script type="text/javascript">
    	function drag(ev) {
    		ev.dataTransfer.setData("text", ev.target.id);
		}

    	function allowDrop(ev) {
    		ev.preventDefault();
		}

		document.addEventListener("drop", function(ev) {
    		ev.preventDefault();
            if (ev.target.className != "styled-button-3") {
    		    var data = ev.dataTransfer.getData("text");
    		    var elmnt = document.getElementById(data).firstChild;
    		    var cln = elmnt.cloneNode(true);
    		    var para = document.createElement("div")
    		    para.setAttribute('class', 'styled-button-3');
                para.setAttribute('id', elmnt);
                para.appendChild(cln);
                ev.target.appendChild(para);
            }
		});

        // event propagation for dynamically added elements
        $(document).ready(function() {
            // click just once on a word to delete
            $(document).on("click", ".styled-button-3", function () {
                $(this).remove();
            });
        });

        // clear format of empty boxes for the new user
        $(document).ready(function(){
            for (i = 1; i <= 10; i++) {
                var mystring = $("#answer_"+i).text()
                // check for any single character in the div
                if (/^\s+$/.test(mystring)) {
                    clearDiv("answer_"+i)
                }
            }                                           
        });

        // when clean the div, add 4 empty rows and 1 new textarea
        function clearDiv(divId) {
            $("#"+divId).contents().filter(function () {
                return this.nodeType === 1; 
            }).empty();
            var myclear = $("#"+divId).text();
            // clean the textarea
            $("#"+divId).find('textarea').val('');
            $("#"+divId).html('<div class="row" ondrop="drop(event);" ondragover="allowDrop(event);"></div><div class="row" ondrop="drop(event);" ondragover="allowDrop(event);"></div><div class="row" ondrop="drop(event);" ondragover="allowDrop(event);"></div><div class="row" ondrop="drop(event);" ondragover="allowDrop(event);"></div><div class="row" ondrop="drop(event);" ondragover="allowDrop(event);"></div><textarea type="text" style="display:none" name="t_'+divId+'" id="ti_'+divId+'" placeholder="tp_'+divId+'"></textarea>');
        }

        // final save for all the answer boxes
        function save() {
        	for (i = 1; i <= 10; i++) { 
    			if ($("#r_answer_"+i).length === 0) {
	                var mysave = $("#answer_"+i).text();
	                $("#answer_"+i).find('textarea').val(mysave);
                }
			}
        }

        // method for debugging
        function getValDiv(textareaId) {
            var textarea_value = $("#"+textareaId).val();
            if (textarea_value.length === 0) {
                alert("Your answer box is empty!");
            } else {
                alert(textareaId+":"+textarea_value);
            }
        }

        function results(url) {
            nWindow = window.open(url,'name','height=800,width=1200');
            if (window.focus) {
            	nWindow.focus()
            }
            return false;
        }

        $(window).scroll(function(){
            if ($(window).scrollTop() < 9450) {
            	$("#dragtarget").stop().animate({"marginTop": ($(window).scrollTop()) + "px"}, "slow");
        	}
        });
    </script>

</body>	
</html>